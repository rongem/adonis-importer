@if (selectionDone) {
    <section class="content">
        <h2>Ausgewählte Eigenschaften</h2>
        <ul>
            @for (prop of selectedProperties; track $index) {
                <li>
                    {{prop.displayNames.de}}
                    @if (prop.type === RELATIONS) {
                        : {{(adonisStore.classById(relation(prop).relClass.targetInformations[0].id)).displayNames.de}}
                    }
                </li>
            }
        </ul>
        <h3>Weiteres Vorgehen</h3>
        <p>Wählen Sie aus, was Sie jetzt tun möchten.</p>
        @switch (adonisStore.purpose()) {
            @case ('config') {
                <button class="content-button" (click)="selectAction()">
                    <h3>Excel-Vorlage und XML-Konfiguration für einen Import innerhalb von ADONIS erstellen</h3>
                    <p>
                        Sie erhalten eine XML-Konfiguration, die Sie über die Zwischenablage in den Editor einfügen und dann nach ADONIS importieren können.
                        Außerdem wird eine Excel-Datei heruntergeladen, die als Vorlage passend zur Konfiguration dient, und die Sie nach ADONIS importieren können.
                        Wenn Sie Excel- und XML-Datei über die Adminstrationsoberfläche importiert haben, können Sie innerhalb von ADONIS den Import durchführen.
                    </p>
                </button>
            }
            @case ('import') {
                <button class="content-button" (click)="selectAction()">
                    <h3>Direkt aus dieser Anwendung nach ADONIS importieren</h3>
                    <p>
                        Sie können direkt in dieser Anwendung nach ADONIS importieren. Voraussetzung ist, dass Sie die Daten in einer Tabelle (z. B. Excel oder ähnliches)
                        vorliegen haben. Kopieren Sie die Tabelle in die Zwischenablage, danach fügen Sie sie mit Strg+V im Browser ein. Nach einer letzten Kontrolle
                        können Sie die Daten importieren lassen.
                    </p>
                </button>
            }
        }
        <button class="content-button" (click)="selectionDone = false">
            <h3>Zurück und Auswahl korrigieren</h3>
            <p>
                Sie gelangen zurück zur Auswahl und können korrigieren.
            </p>
        </button>
    </section>
} @else {
    <section class="content">
        <h2>{{adonisStore.selectedClass()?.displayNames?.de}} ({{adonisStore.selectedClass()?.metaName}})</h2>
        <form [formGroup]="attributeForm()" class="attributelist">
            @for (chapter of adonisStore.selectedNotebook()!.chapters; track chapter.id) {
                @if (chapter.children.length > 0) {
                    <ul class="chapter">
                        <li>
                            <h3>{{chapter.displayNames.de}}</h3>
                            <app-children [children]="chapter.children" [formGroup]="attributeForm()"></app-children>
                        </li>
                    </ul>
                }
            }
        </form>
        <section class="form-buttons">
            <button type="submit" (click)="submitForm()" [disabled]="!appState.attributesReady()">Auswählen</button> <button type="reset" (click)="resetForm()">Auswahl löschen</button>
        </section>
    </section>
}
